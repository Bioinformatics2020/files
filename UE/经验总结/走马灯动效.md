走马灯动效示例：

![image-20240223133358692](.\走马灯动效图片\image-20240223133358692.png)

左右两边是渐变消失效果，文字在不断滚动显示，并且当文本长度较短是不显示走马灯。



实现难点：实现文本滚动效果；实现逐渐变透明的渐变效果。



文本滚动效果实现方案：

1. 将输入字符拼接为 原始数据--空格--原始数据--空格 格式。

   拼接的具体代码如下：

   ![image-20240223135105943](.\走马灯动效图片\image-20240223135105943.png)

2. 在tick中不断对文本控件进行渲染偏移。

3. 左侧原始数据与左侧空格彻底不可见之后将偏移值恢复到默认状态，并继续tick滚动。

   在tick中渲染偏移部分代码如下：

   ![image-20240223135424786](.\走马灯动效图片\image-20240223135424786.png)



渐变效果实现方案：

1. 由于需要实现半透明效果，所以不能通过遮罩实现，只能在字体材质想办法。

2. 由于文本在不断滚动，而字体材质是针对全部文本内容进行设置，所以这里不能使用常规的TexCoord节点，但是依然可以根据UV值来进行计算渐变。我这里使用的是根据屏幕像素来计算屏幕上的什么位置应该显示的透明度是多少。

   材质计算方法如下：

   ![image-20240223135917717](.\走马灯动效图片\image-20240223135917717.png)

3. 在创建文本时向材质中传入参数，分别为屏幕开始的坐标、文本区域长度、渐变的比例、是否开启渐变效果。

   参数获取方法如下：

   ![image-20240223135747758](.\走马灯动效图片\image-20240223135747758.png)

