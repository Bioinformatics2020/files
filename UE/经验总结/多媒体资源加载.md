## 多媒体的页面动态加载

由于水平与精力有限，所有UI资源使用的都是静态加载，页面使用的是动态加载里面的懒加载(用到时再加载)，并且是同步加载的。并没有采用更好的资产注册表预加载方案。

接下来说一下我是怎么页面完成动态加载的(ADataAssetMananger)：

1. 我有一套页面管理框架，会告诉我页面启动的时机。当页面启动时，我调用FStreamableManager的方法进行资源加载。
2. 为了便于使用，我将资产加载方法进行了封装，调用ADataAssetMananger里面的4种函数均可完成资产加载。
3. 为了便于加载蓝图文件，并且通过引用关系而不是文件名称来管理资产，我使用UMediaDataAsset记录资产
4. 多媒体有许多重复利于的小控件，我提供了控件缓冲池
5. 多媒体有许多控件都是通过Ulistview与UWrapBox加载的，我对这两个控件的使用做了更多的封装

## 图片的动态加载

多媒体有一个图片缓冲区，在某种情况下，我需要从本地缓存中查找加载资源。此时，我使用LoadFileToArray 完成资源加载，然后再解析成动态纹理2D。



我在异步加载中遇到一个问题：时序没办法保证

​	我目前的解决方案是加一个时间戳

​	更好的方法是加一个取消加载的功能（由于我没有深入了解网络请求的流程，所以没有采用）

## 安卓数据的动态获取

进入页面时需要动态获取最新数据，安卓那边收到请求并处理之后会返回给UE4



额外提醒：

1. 任何异步函数一定要注意调用时机，不要出现页面销毁了，但是页面的异步函数还要执行的情况
2. 首先保证同步加载不出问题再考虑异步加载，简单的异步加载不出问题再考虑预加载